<div class="customer-detail-container">
	@if (loading()) {
		<div class="loading">
			<mat-progress-spinner mode="indeterminate"></mat-progress-spinner>
		</div>
	} @else if (error()) {
		<div class="error">
			<mat-icon color="warn">error</mat-icon>
			<span>{{ error() }}</span>
		</div>
	} @else if (customer()) {
		<div class="customer-card">
			<h2>
				{{ customer()?.firstName }} {{ customer()?.lastName }}
				<span class="customer-type">{{ customer()?.customerType }}</span>
			</h2>
			<div class="customer-info">
				@if (customer()?.company) {
					<div>
						<mat-icon>business</mat-icon>
						<strong>Firma:</strong> {{ customer()?.company }}
					</div>
				}
				@if (customer()?.position) {
					<div>
						<mat-icon>work</mat-icon>
						<strong>Position:</strong> {{ customer()?.position }}
					</div>
				}
				<div>
					<mat-icon>email</mat-icon>
					<strong>E-Mail:</strong> {{ customer()?.email }}
				</div>
				@if (customer()?.phoneNumber) {
					<div>
						<mat-icon>call</mat-icon>
						<strong>Telefon:</strong> {{ customer()?.phoneNumber }}
					</div>
				}
				@if (customer()?.mobileNumber) {
					<div>
						<mat-icon>smartphone</mat-icon>
						<strong>Mobil:</strong> {{ customer()?.mobileNumber }}
					</div>
				}
				@if (customer()?.address) {
					<div>
						<mat-icon>location_on</mat-icon>
						<strong>Adresse:</strong>
						<span>
							{{ customer()?.address?.street }} {{ customer()?.address?.houseNumber }},
							{{ customer()?.address?.postalCode }} {{ customer()?.address?.city }},
							{{ customer()?.address?.country }}
						</span>
					</div>
				}
				<div>
					<mat-icon>today</mat-icon>
					<strong>Erstellt am:</strong> {{ formatDate(customer()?.createdAt) }}
				</div>
				<div>
					<mat-icon>update</mat-icon>

					<strong>Aktualisiert am:</strong> {{ formatDate(customer()?.updatedAt) }}
				</div>
				@if (customer()?.lastContactDate) {
					<div>
						<mat-icon>history</mat-icon>
						<strong>Letzter Kontakt:</strong> {{ formatDate(customer()?.lastContactDate) }}
					</div>
				}
				@if (customer()?.category) {
					<div>
						<mat-icon>category</mat-icon>
						<strong>Kategorie:</strong> {{ customer()?.category }}
					</div>
				}
				@if (customer()?.tags?.length) {
					<div>
						<mat-icon>label</mat-icon>
						<strong>Tags:</strong>
						<span class="tags">
							@for (tag of customer()?.tags; track tag) {
								<span class="tag">{{ tag }}</span>
							}
						</span>
					</div>
				}
				@if (customer()?.notes) {
					<div>
						<mat-icon>notes</mat-icon>
						<strong>Notizen:</strong> {{ customer()?.notes }}
					</div>
				}
			</div>
		</div>
	}
</div>